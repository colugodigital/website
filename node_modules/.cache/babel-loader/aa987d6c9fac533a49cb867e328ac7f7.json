{"ast":null,"code":"var _jsxFileName = \"/Users/ianworrall/Desktop/FraktalNetwork/site/src/pages/Personal/ScrollspyNav.js\";\nimport React, { Component } from 'react';\n\nclass ScrollspyNav extends Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.scrollTargetIds = this.props.scrollTargetIds;\n    this.activeNavClass = this.props.activeNavClass;\n    this.scrollDuration = Number(this.props.scrollDuration) || 1000;\n    this.headerBackground = this.props.headerBackground === \"true\" ? true : false;\n\n    if (this.props.router && this.props.router === \"HashRouter\") {\n      this.homeDefaultLink = \"#/\";\n      this.hashIdentifier = \"#/#\";\n    } else {\n      this.homeDefaultLink = \"/\";\n      this.hashIdentifier = \"#\";\n    }\n  }\n\n  easeInOutQuad(current_time, start, change, duration) {\n    current_time /= duration / 2;\n    if (current_time < 1) return change / 2 * current_time * current_time + start;\n    current_time--;\n    return -change / 2 * (current_time * (current_time - 2) - 1) + start;\n  }\n\n  scrollTo(start, to, duration) {\n    let change = to - start,\n        currentTime = 0,\n        increment = 10;\n\n    let animateScroll = () => {\n      currentTime += increment;\n      let val = this.easeInOutQuad(currentTime, start, change, duration);\n      window.scrollTo(0, val);\n\n      if (currentTime < duration) {\n        setTimeout(animateScroll, increment);\n      }\n    };\n\n    animateScroll();\n  }\n\n  getNavLinkElement(sectionID) {\n    return document.querySelector(`a[href='${this.hashIdentifier}${sectionID}']`);\n  }\n\n  getNavToSectionID(navHref) {\n    return navHref.includes(this.hashIdentifier) ? navHref.replace(this.hashIdentifier, \"\") : \"\";\n  }\n\n  componentDidMount() {\n    if (document.querySelector(`a[href='${this.homeDefaultLink}']`)) {\n      document.querySelector(`a[href='${this.homeDefaultLink}']`).addEventListener(\"click\", event => {\n        event.preventDefault();\n        this.scrollTo(window.pageYOffset, 0, this.scrollDuration);\n        window.location.hash = \"\";\n      });\n    }\n\n    document.querySelector(\"div[data-nav='list']\").querySelectorAll(\"a\").forEach(navLink => {\n      navLink.addEventListener(\"click\", event => {\n        event.preventDefault();\n        let sectionID = this.getNavToSectionID(navLink.getAttribute(\"href\"));\n\n        if (sectionID) {\n          let scrollTargetPosition = document.getElementById(sectionID).offsetTop - (this.headerBackground ? document.querySelector(\"div[data-nav='list']\").scrollHeight : 0);\n          this.scrollTo(window.pageYOffset, scrollTargetPosition, this.scrollDuration);\n        } else {\n          this.scrollTo(window.pageYOffset, 0, this.scrollDuration);\n        }\n      });\n    });\n    window.addEventListener(\"scroll\", () => {\n      let scrollSectionOffsetTop;\n      this.scrollTargetIds.forEach((sectionID, index) => {\n        if (document.getElementById(sectionID)) {\n          scrollSectionOffsetTop = document.getElementById(sectionID).offsetTop - (this.headerBackground ? document.querySelector(\"div[data-nav='list']\").scrollHeight : 0);\n\n          if (window.pageYOffset >= scrollSectionOffsetTop && window.pageYOffset < scrollSectionOffsetTop + document.getElementById(sectionID).scrollHeight) {\n            this.getNavLinkElement(sectionID).classList.add(this.activeNavClass);\n            this.getNavLinkElement(sectionID).parentNode.classList.add(this.activeNavClass);\n            this.clearOtherNavLinkActiveStyle(sectionID);\n          } else {\n            this.getNavLinkElement(sectionID).classList.remove(this.activeNavClass);\n            this.getNavLinkElement(sectionID).parentNode.classList.remove(this.activeNavClass);\n          }\n\n          if (window.innerHeight + window.pageYOffset >= document.body.scrollHeight && index === this.scrollTargetIds.length - 1) {\n            this.getNavLinkElement(sectionID).classList.add(this.activeNavClass);\n            this.getNavLinkElement(sectionID).parentNode.classList.add(this.activeNavClass);\n            this.clearOtherNavLinkActiveStyle(sectionID);\n          }\n        }\n      });\n    });\n  }\n\n  clearOtherNavLinkActiveStyle(excludeSectionID) {\n    this.scrollTargetIds.forEach((sectionID, index) => {\n      if (sectionID !== excludeSectionID) {\n        this.getNavLinkElement(sectionID).classList.remove(this.activeNavClass);\n        this.getNavLinkElement(sectionID).parentNode.classList.remove(this.activeNavClass);\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      \"data-nav\": \"list\",\n      className: this.props.className,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, this.props.children);\n  }\n\n}\n\nexport default ScrollspyNav;","map":{"version":3,"sources":["/Users/ianworrall/Desktop/FraktalNetwork/site/src/pages/Personal/ScrollspyNav.js"],"names":["React","Component","ScrollspyNav","constructor","props","scrollTargetIds","activeNavClass","scrollDuration","Number","headerBackground","router","homeDefaultLink","hashIdentifier","easeInOutQuad","current_time","start","change","duration","scrollTo","to","currentTime","increment","animateScroll","val","window","setTimeout","getNavLinkElement","sectionID","document","querySelector","getNavToSectionID","navHref","includes","replace","componentDidMount","addEventListener","event","preventDefault","pageYOffset","location","hash","querySelectorAll","forEach","navLink","getAttribute","scrollTargetPosition","getElementById","offsetTop","scrollHeight","scrollSectionOffsetTop","index","classList","add","parentNode","clearOtherNavLinkActiveStyle","remove","innerHeight","body","length","excludeSectionID","render","className","children"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass ScrollspyNav extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.props = props;\r\n        this.scrollTargetIds = this.props.scrollTargetIds;\r\n        this.activeNavClass = this.props.activeNavClass;\r\n        this.scrollDuration = Number(this.props.scrollDuration) || 1000;\r\n        this.headerBackground = this.props.headerBackground === \"true\" ? true : false;\r\n\r\n        if (this.props.router && this.props.router === \"HashRouter\") {\r\n            this.homeDefaultLink = \"#/\";\r\n            this.hashIdentifier = \"#/#\";\r\n        } else {\r\n            this.homeDefaultLink = \"/\";\r\n            this.hashIdentifier = \"#\";\r\n        }\r\n    }\r\n\r\n    easeInOutQuad(current_time, start, change, duration) {\r\n        current_time /= duration / 2;\r\n        if (current_time < 1) return change / 2 * current_time * current_time + start;\r\n        current_time--;\r\n        return -change / 2 * (current_time * (current_time - 2) - 1) + start;\r\n    };\r\n\r\n    scrollTo(start, to, duration) {\r\n        let change = to - start,\r\n            currentTime = 0,\r\n            increment = 10;\r\n\r\n        let animateScroll = () => {\r\n            currentTime += increment;\r\n            let val = this.easeInOutQuad(currentTime, start, change, duration);\r\n            window.scrollTo(0, val);\r\n            if (currentTime < duration) {\r\n                setTimeout(animateScroll, increment);\r\n            }\r\n        };\r\n        animateScroll();\r\n    }\r\n\r\n    getNavLinkElement(sectionID) {\r\n        return document.querySelector(`a[href='${this.hashIdentifier}${sectionID}']`);\r\n    }\r\n\r\n    getNavToSectionID(navHref) {\r\n        return navHref.includes(this.hashIdentifier) ? navHref.replace(this.hashIdentifier, \"\") : \"\";\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (document.querySelector(`a[href='${this.homeDefaultLink}']`)) {\r\n            document.querySelector(`a[href='${this.homeDefaultLink}']`).addEventListener(\"click\", (event) => {\r\n                event.preventDefault();\r\n                this.scrollTo(window.pageYOffset, 0, this.scrollDuration);\r\n                window.location.hash = \"\";\r\n            });\r\n        }\r\n\r\n        document.querySelector(\"div[data-nav='list']\").querySelectorAll(\"a\").forEach((navLink) => {\r\n            navLink.addEventListener(\"click\", (event) => {\r\n                event.preventDefault();\r\n                let sectionID = this.getNavToSectionID(navLink.getAttribute(\"href\"));\r\n\r\n                if (sectionID) {\r\n                    let scrollTargetPosition = document.getElementById(sectionID).offsetTop - (this.headerBackground ? document.querySelector(\"div[data-nav='list']\").scrollHeight : 0);\r\n                    this.scrollTo(window.pageYOffset, scrollTargetPosition, this.scrollDuration);\r\n                } else {\r\n                    this.scrollTo(window.pageYOffset, 0, this.scrollDuration);\r\n                }\r\n            });\r\n        })\r\n\r\n        window.addEventListener(\"scroll\", () => {\r\n            let scrollSectionOffsetTop;\r\n            this.scrollTargetIds.forEach((sectionID, index) => {\r\n                if(document.getElementById(sectionID)){\r\n                    scrollSectionOffsetTop = document.getElementById(sectionID).offsetTop - (this.headerBackground ? document.querySelector(\"div[data-nav='list']\").scrollHeight : 0);\r\n\r\n                    if (window.pageYOffset >= scrollSectionOffsetTop && window.pageYOffset < scrollSectionOffsetTop + document.getElementById(sectionID).scrollHeight) {\r\n                        this.getNavLinkElement(sectionID).classList.add(this.activeNavClass);\r\n                        this.getNavLinkElement(sectionID).parentNode.classList.add(this.activeNavClass);\r\n                        this.clearOtherNavLinkActiveStyle(sectionID)\r\n                    } else {\r\n                        this.getNavLinkElement(sectionID).classList.remove(this.activeNavClass);\r\n                        this.getNavLinkElement(sectionID).parentNode.classList.remove(this.activeNavClass);\r\n                    }\r\n\r\n                    if (window.innerHeight + window.pageYOffset >= document.body.scrollHeight && index === this.scrollTargetIds.length - 1) {\r\n                        this.getNavLinkElement(sectionID).classList.add(this.activeNavClass);\r\n                        this.getNavLinkElement(sectionID).parentNode.classList.add(this.activeNavClass);\r\n                        this.clearOtherNavLinkActiveStyle(sectionID);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    clearOtherNavLinkActiveStyle(excludeSectionID) {\r\n        this.scrollTargetIds.forEach((sectionID, index) => {\r\n            if (sectionID !== excludeSectionID) {\r\n                this.getNavLinkElement(sectionID).classList.remove(this.activeNavClass);\r\n                this.getNavLinkElement(sectionID).parentNode.classList.remove(this.activeNavClass);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div data-nav=\"list\" className={this.props.className}>\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ScrollspyNav;"]},"metadata":{},"sourceType":"module"}